(function(){"use strict";var e={3749:function(e,t,a){var n=a(9242),r=a(3396);function o(e,t,a,n,o,s){const l=(0,r.up)("router-view");return(0,r.wg)(),(0,r.j4)(l)}var s={name:"App"},l=a(89);const i=(0,l.Z)(s,[["render",o]]);var u=i,c=a(2483),p=a(7139);const d=e=>((0,r.dD)("data-v-5a69c806"),e=e(),(0,r.Cn)(),e),g={class:"container"},m=d((()=>(0,r._)("p",null,"Login",-1))),h=d((()=>(0,r._)("hr",null,null,-1))),f={class:"input-form"},v={class:"error-info"},w={class:"button-submit"};function _(e,t,a,o,s,l){const i=(0,r.up)("Loader");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",g,[m,h,(0,r._)("div",f,[(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>s.username=e),placeholder:"username"},null,512),[[n.nr,s.username]]),(0,r.wy)((0,r._)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>s.password=e),placeholder:"password"},null,512),[[n.nr,s.password]])]),(0,r._)("p",v,(0,p.zw)(s.message),1)]),(0,r._)("div",w,[(0,r._)("button",{onClick:t[2]||(t[2]=e=>l.login()),class:(0,p.C_)({active:s.loggedBtn})},"LOG IN",2),s.loaderBool?((0,r.wg)(),(0,r.j4)(i,{key:0,class:"loader"})):(0,r.kq)("",!0)])],64)}a(560);const k=e=>((0,r.dD)("data-v-9f58f8aa"),e=e(),(0,r.Cn)(),e),y={class:"lds-ellipsis"},b=k((()=>(0,r._)("div",null,null,-1))),A=k((()=>(0,r._)("div",null,null,-1))),O=k((()=>(0,r._)("div",null,null,-1))),I=k((()=>(0,r._)("div",null,null,-1))),j=[b,A,O,I];function D(e,t,a,n,o,s){return(0,r.wg)(),(0,r.iD)("div",y,j)}var S={name:"loader-ellipsis"};const P=(0,l.Z)(S,[["render",D],["__scopeId","data-v-9f58f8aa"]]);var x=P,C={name:"LoginPage",components:{Loader:x},data(){return{loggedBtn:!1,loaderBool:!1,message:"",username:"",password:""}},methods:{login(){this.loaderBool=!0;const e="http://localhost:3305/api/user/login";fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,password:this.password})}).then((e=>this.handleError(e))).then((e=>e.json())).then((e=>{e.token?(this.loggedBtn=!0,this.loaderBool=!1,localStorage.setItem("username",this.username),localStorage.setItem("token",e.token),this.$router.push({name:"home"}),console.log(e.message)):this.message=e.message}))},handleError(e){if(!e.ok)throw Error(e.statusText);return e}}};const E=(0,l.Z)(C,[["render",_],["__scopeId","data-v-5a69c806"]]);var B=E;const N=(0,r._)("div",null," Home ",-1);function T(e,t,a,n,o,s){const l=(0,r.up)("NavMenu");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(l),N],64)}var L=a.p+"img/user.c93148e2.png";const U={class:"nav"},z={class:"profile"},Z={key:0,class:"userimg",src:L,alt:"userPng"},F=["src"];function H(e,t,a,n,o,s){const l=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",U,[(0,r._)("div",z,[o.path?((0,r.wg)(),(0,r.iD)("img",{key:1,class:"userimg",src:o.path,alt:"userPng"},null,8,F)):((0,r.wg)(),(0,r.iD)("img",Z)),(0,r.Wm)(l,{to:{name:"profile"},class:"route"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,p.zw)(o.username),1)])),_:1})])])}var M={name:"nav-page",data(){return{username:"Alex",path:""}},created(){this.username=localStorage.getItem("username")}};const Y=(0,l.Z)(M,[["render",H],["__scopeId","data-v-f0779f9e"]]);var W=Y,G={name:"HomePage",components:{NavMenu:W}};const R=(0,l.Z)(G,[["render",T]]);var V=R,$=a.p+"img/check-mark-true.47adec7c.png",q=a.p+"img/check-mark-false.84280dc5.png";const J=e=>((0,r.dD)("data-v-5f99f9a3"),e=e(),(0,r.Cn)(),e),K={class:"container"},Q={class:"user-info"},X={key:0},ee=J((()=>(0,r._)("p",null,[(0,r.Uk)("Avatar: "),(0,r._)("img",{class:"check-mark",src:$})],-1))),te=[ee],ae={key:1},ne=J((()=>(0,r._)("p",null,[(0,r.Uk)("Avatar: "),(0,r._)("img",{class:"check-mark",src:q})],-1))),re=[ne],oe=J((()=>(0,r._)("hr",null,null,-1))),se={class:"profile-image"},le=J((()=>(0,r._)("p",null,"Choose a profile image",-1))),ie=["src"];function ue(e,t,a,n,o,s){const l=(0,r.up)("NavMenu");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(l),(0,r._)("div",K,[(0,r._)("div",Q,[(0,r._)("p",null,"Name: "+(0,p.zw)(o.username),1),o.isAvatar?((0,r.wg)(),(0,r.iD)("div",X,te)):((0,r.wg)(),(0,r.iD)("div",ae,re))]),oe,(0,r._)("div",se,[le,(0,r._)("input",{onChange:t[0]||(t[0]=(...e)=>s.uploadFile&&s.uploadFile(...e)),class:"input-files",type:"file",accept:"image/png, image/jpeg"},null,32),(0,r._)("p",null,(0,p.zw)(o.message),1)])]),(0,r._)("img",{src:o.avatar},null,8,ie)],64)}a(8858),a(1318),a(3228);var ce={name:"profile-page",components:{NavMenu:W},data(){return{username:"Alex",isAvatar:!1,message:"",avatar:""}},created(){this.username=localStorage.getItem("username"),this.getProfileAvatar()},methods:{handleError(e){if(!e.ok)throw Error(e.statusText);return e},uploadFile(){const e="http://localhost:3305/api/files/loadfile",t=new FormData;let a=Array.from(event.target.files);t.append("file",a[0]),fetch(e,{method:"POST",headers:{Authorization:"Bearer "+localStorage.getItem("token")},body:t}).then((e=>this.handleError(e))).then((e=>e.json())).then((e=>{e.message?(console.log(e.message),this.message=e.message,this.isAvatar=!0,localStorage.setItem("pathAvatar",e.path),this.getProfileAvatar()):this.message="You are already have avatar"}))},getProfileAvatar(){if(localStorage.getItem("pathAvatar")){const e=`http://localhost:3305/api/files/getfile/?path=${localStorage.getItem("pathAvatar")}`;fetch(e,{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((e=>this.handleError(e))).then((e=>e.json())).then((async e=>{const t=await e.blob();this.avatar=window.URL.createObjectURL(t),console.log(this.avatar)}))}else console.log("No path data")}}};const pe=(0,l.Z)(ce,[["render",ue],["__scopeId","data-v-5f99f9a3"]]);var de=pe;const ge=(0,c.p7)({routes:[{path:"/",name:"home",component:V},{path:"/login",name:"login",component:B},{path:"/profile",name:"profile",component:de}],history:(0,c.PO)()});ge.beforeEach(((e,t,a)=>{localStorage.getItem("token")||"login"===e.name?a():a({name:"login"})}));const me=(0,n.ri)(u);me.use(ge),me.mount("#app")}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,n,r,o){if(!n){var s=1/0;for(c=0;c<e.length;c++){n=e[c][0],r=e[c][1],o=e[c][2];for(var l=!0,i=0;i<n.length;i++)(!1&o||s>=o)&&Object.keys(a.O).every((function(e){return a.O[e](n[i])}))?n.splice(i--,1):(l=!1,o<s&&(s=o));if(l){e.splice(c--,1);var u=r();void 0!==u&&(t=u)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[n,r,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.p="/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,o,s=n[0],l=n[1],i=n[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(r in l)a.o(l,r)&&(a.m[r]=l[r]);if(i)var c=i(a)}for(t&&t(n);u<s.length;u++)o=s[u],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(c)},n=self["webpackChunkvue"]=self["webpackChunkvue"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(3749)}));n=a.O(n)})();
//# sourceMappingURL=app.8082cd33.js.map